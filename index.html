<!DOCTYPE html>
<!-- saved from url=(0124)https://martin-valtmann-valdson.herokuapp.com/lolo.html?fbclid=IwAR3Ui0xSoqQo1ZJ6gOZj_0nSQdMI2f9n6ysCrQE_FuVeeBcekhi13YSUT-Y -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Light Theme</title>
<link href="./static/simpleGridTemplate.css" rel="stylesheet" type="text/css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.js"></script>
<script type="text/javascript">// Promises
var _eid_promises = {};
// Turn the incoming message from extension
// into pending Promise resolving
window.addEventListener("message", function(event) {
    if(event.source !== window) return;
    if(event.data.src && (event.data.src === "background.js")) {
        console.log("Page received: ");
        console.log(event.data);
        // Get the promise
        if(event.data.nonce) {
            var p = _eid_promises[event.data.nonce];
            // resolve
            if(event.data.result === "ok") {
                if(event.data.signature !== undefined) {
                    p.resolve({hex: event.data.signature});
                } else if(event.data.version !== undefined) {
                    p.resolve(event.data.extension + "/" + event.data.version);
                } else if(event.data.cert !== undefined) {
                    p.resolve({hex: event.data.cert});
                } else {
                    console.log("No idea how to handle message");
                    console.log(event.data);
                }
            } else {
                // reject
                p.reject(new Error(event.data.result));
            }
            delete _eid_promises[event.data.nonce];
        } else {
            console.log("No nonce in event msg");
        }
    }
}, false);


function TokenSigning() {
    function nonce() {
        var val = "";
        var hex = "abcdefghijklmnopqrstuvwxyz0123456789";
        for(var i = 0; i < 16; i++) val += hex.charAt(Math.floor(Math.random() * hex.length));
        return val;
    }

    function messagePromise(msg) {
        return new Promise(function(resolve, reject) {
            // amend with necessary metadata
            msg["nonce"] = nonce();
            msg["src"] = "page.js";
            // send message
            window.postMessage(msg, "*");
            // and store promise callbacks
            _eid_promises[msg.nonce] = {
                resolve: resolve,
                reject: reject
            };
        });
    }
    this.getCertificate = function(options) {
        var msg = {type: "CERT", lang: options.lang, filter: options.filter};
        console.log("getCertificate()");
        return messagePromise(msg);
    };
    this.sign = function(cert, hash, options) {
        var msg = {type: "SIGN", cert: cert.hex, hash: hash.hex, hashtype: hash.type, lang: options.lang, info: options.info};
        console.log("sign()");
        return messagePromise(msg);
    };
    this.getVersion = function() {
        console.log("getVersion()");
        return messagePromise({
            type: "VERSION"
        });
    };
}</script></head>
<body>
<!-- Main Container -->
<div class="container">
  <!-- Header -->
  <header class="header">
    <h4 class="logo">GRID</h4>
  </header>
  <!-- Hero Section -->
  <section class="intro">
    <div class="column">
      <h3>JOHN DOE</h3>
      <img src="./static/profile.png" alt="" class="profile"> </div>
    <div class="column">
      <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla </p>
      <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla</p>
    </div>
  </section>
  <!-- Stats Gallery Section -->
  <div class="gallery">
    <div class="thumbnail"> <a href="https://martin-valtmann-valdson.herokuapp.com/lolo.html?fbclid=IwAR3Ui0xSoqQo1ZJ6gOZj_0nSQdMI2f9n6ysCrQE_FuVeeBcekhi13YSUT-Y#"><img src="./static/bkg_06.jpg" alt="" width="2000" class="cards"></a>
      <h4>TITLE</h4>
      <p class="tag">HTML, CSS, JS, WordPress</p>
      <p class="text_column">Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>
    </div>
    <div class="thumbnail"> <a href="https://martin-valtmann-valdson.herokuapp.com/lolo.html?fbclid=IwAR3Ui0xSoqQo1ZJ6gOZj_0nSQdMI2f9n6ysCrQE_FuVeeBcekhi13YSUT-Y#"><img src="./static/bkg_06.jpg" alt="" width="2000" class="cards"></a>
      <h4>TITLE</h4>
      <p class="tag">HTML, CSS, JS, WordPress</p>
      <p class="text_column">Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>
    </div>
    <div class="thumbnail"> <a href="https://martin-valtmann-valdson.herokuapp.com/lolo.html?fbclid=IwAR3Ui0xSoqQo1ZJ6gOZj_0nSQdMI2f9n6ysCrQE_FuVeeBcekhi13YSUT-Y#"><img src="./static/bkg_06.jpg" alt="" width="2000" class="cards"></a>
      <h4>TITLE</h4>
      <p class="tag">HTML, CSS, JS, WordPress</p>
      <p class="text_column">Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>
    </div>
    <div class="thumbnail"> <a href="https://martin-valtmann-valdson.herokuapp.com/lolo.html?fbclid=IwAR3Ui0xSoqQo1ZJ6gOZj_0nSQdMI2f9n6ysCrQE_FuVeeBcekhi13YSUT-Y#"><img src="./static/bkg_06.jpg" alt="" width="2000" class="cards"></a>
      <h4>TITLE</h4>
      <p class="tag">HTML, CSS, JS, WordPress</p>
      <p class="text_column">Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>
    </div>
  </div>
  <!-- Footer Section -->
  <footer id="contact">
    <p class="hero_header">GET IN TOUCH WITH ME</p>
    <div class="button">EMAIL ME </div>
  </footer>
  <!-- Copyrights Section -->
  <div class="copyright">Â©2015 - <strong>GRID</strong></div>
</div>

<script>	
	var newurl = "https://vast-refuge-72998.herokuapp.com/https://feedforall.com/sample.xml";
	var apiKey = "2MLECOYvoMvDLHdDiHW8jymi1s8IGLCZcIpIx5On";
	var rssData = "";
	
	$.ajax({
        url: newurl,
        dataType: "xml",
        headers: {
    	    'x-api-key':apiKey
	    },
        success: function(xmlData){
        	var rowItemsCount = 0;
        	var currentGallery;
        	
			$(xmlData).find('item').each(function(index){
				var title = $(this).find('title').text();
				var link = $(this).find('link').text();
				var description = $(this).find('description').text();
				var media = $(this).find('media:content').text();
				
				if(rowItemsCount == 3 || rowItemsCount == 0){
					var currentGallery = createNewGallery();
					rowItemsCount = 0;
				}
				
				createThumbnail(currentGallery, title, link, description, media);
				rowItemsCount +=1;
			});
        },
        error: function (error) {
        	console.log("aba");
            console.log(error)
        }
    });

	function createNewGallery(){
		return $(".container").append("<div class=\"gallery\"></div>");
	}
	
	function createThumbnail(gallery, title, link, description, media){
		gallery.append("<div class=\"thumbnail\"><h4>Kala</h4></div>");
	}
</body></html>